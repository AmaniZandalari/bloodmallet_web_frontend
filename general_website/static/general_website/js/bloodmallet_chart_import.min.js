function bloodmallet_chart_import(){const t=["#7cb5ec","#d9d9df","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],e="#343a40",o="#f8f9fa",a="#828282",r="1.1rem",l=!1,i="https://dev.bloodmallet.com/chart/get/";let s={};function n(t){l&&console.log("load_data");let e=t.chart_id,o=t.data_type,a=t.fight_style,r=t.wow_class,n=t.wow_spec;try{if(s[o][a][r][n])return}catch(t){l&&console.log("Data needs to be loaded.")}try{if(s[e])return}catch(t){l&&console.log("Data needs to be loaded.")}let d=o;d.indexOf("azerite")>-1&&(d="azerite_traits");let c=a;c+="/"+r,c+="/"+n;let h="";h=e?i+e:i+d+"/"+c;let g=new XMLHttpRequest;l&&console.log("Fetching data from: "+h),g.open("GET",h,!0),g.onload=function(t){if(4===g.readyState)if(200===g.status){let t=JSON.parse(g.responseText);e?s["c"+e]=t:(s[o]||(s[o]={}),s[o][a]||(s[o][a]={}),s[o][a][r]||(s[o][a][r]={}),s[o][a][r][n]=t),l&&(console.log(t),console.log("Load and save finished."))}else console.error(g.statusText)},g.onerror=function(t){console.error("Fetching data from bloodmallet.com encountered an error, ",t)},g.send(null)}function d(t,e,o,a){l&&console.log("update_chart");let r=t.chart_id,i=t.data_type,n=t.fight_style,u=t.wow_class,p=t.wow_spec,_=t.limit,m=t.chart_engine,f=!1;if(r){if(void 0===s["c"+r])return void(a<30&&setTimeout(d,200,t,e,o,a+1))}else try{f=s[i][n][u][p]}catch(r){return void(a<30&&setTimeout(d,200,t,e,o,a+1))}if(!0===(f=void 0!==r?s["c"+r]:s[i][n][u][p]).error)return function(t,e){let o=t;o.innerHTML="";let a=document.createElement("p");a.innerText="An error occured during simulation.",o.appendChild(a);let r=document.createElement("ul"),l=document.createElement("li");l.textContent="Title: "+(e.title?e.title:"~"),r.appendChild(l);let i=document.createElement("li");i.textContent="Spec: "+e.wow_spec+" "+e.wow_class,r.appendChild(i);let s=document.createElement("li");s.textContent="Type: "+e.simulation_type,r.appendChild(s);let n=document.createElement("li");n.textContent="Fight style: "+e.fight_style,r.appendChild(n);let d=document.createElement("li");d.textContent="ID: "+e.id,r.appendChild(d);let c=document.createElement("li");c.textContent="Custom profile:",r.appendChild(c),c.appendChild(document.createElement("br"));let h=document.createElement("textarea");h.readOnly=!0,h.value=e.custom_profile,h.placeholder="No custom profile",h.style.width="100%",c.appendChild(h);let g=document.createElement("li");g.textContent="Log:",r.appendChild(g),g.appendChild(document.createElement("br"));let u=document.createElement("textarea");u.readOnly=!0,u.value=e.log,u.placeholder="No log available",u.style.width="100%",g.appendChild(u),o.appendChild(r)}(e,f);if(u=f.simc_settings.class,p=f.simc_settings.spec,n=f.simc_settings.fight_style,t.data_type=i=f.data_type,"secondary_distributions"===i)return function(t,e,o){l&&console.log("update_secondary_distribution_chart");let a=e.id,r=t.chart_id,i=t.fight_style,n=t.wow_class,d=t.wow_spec,h=(t.chart_engine,!1);h=s["c"+r],n=h.simc_settings.class,d=h.simc_settings.spec,i=h.simc_settings.fight_style;let u=g(t),p=!1;if("highcharts"==t.chart_engine)try{p=Highcharts.chart(a,u)}catch(t){return console.log("When trying to create a highcharts chart the following error occured. Did you include the necessary Highcharts scripts?"),void console.log(t)}else if("highcharts_old"==t.chart_engine)try{let t=u;t.chart.renderTo=a,p=new Highcharts.Chart(t)}catch(t){return console.log("When trying to create a highcharts_old chart the following error occured. Did you include the necessary Highcharts scripts?"),void console.log(t)}o=void 0,o=p;let _=void 0;_=Object.keys(h.data)[0];let m=h.data[_][h.sorted_data_keys[_][0]],f=h.data[_][h.sorted_data_keys[_][h.sorted_data_keys[_].length-1]],b=c(100,0,100),y=c(0,0,100),w={name:Intl.NumberFormat().format(m)+" DPS",color:"rgb("+b[0]+","+b[1]+","+b[2]+")",data:[]};for(let e of Object.keys(h.data[_])){let o=h.data[_][e],a=c(o,f,m),r=1,l="#232227",i=5;m===o&&(r=3,i=8,l=t.font_color);let s=void 0;if(e.indexOf("70")>-1)switch(s={enabled:!0,allowOverlap:!0},e.indexOf("70")){case 0:s.format="Crit",s.verticalAlign="top";break;case 3:s.format="Haste";break;case 6:s.format="Mastery",s.verticalAlign="top";break;case 9:s.format="Versatility",s.verticalAlign="top"}const n=h.secondary_sum;let d=parseInt(e.split("_")[0]),g=parseInt(e.split("_")[1]),u=parseInt(e.split("_")[2]),p=parseInt(e.split("_")[3]);w.data.push({x:Math.sqrt(3)/2*(d+1/3*g),y:Math.sqrt(2/3)*g,z:u+.5*d+.5*g,name:e,color:"rgb("+a[0]+","+a[1]+","+a[2]+")",dps:o,dps_max:m,dps_min:f,stat_crit:d*n/100,stat_haste:g*n/100,stat_mastery:u*n/100,stat_vers:p*n/100,stat_sum:n,marker:{radius:i,lineColor:l,lineWidth:r},dataLabels:s})}for(;o.series[0];)o.series[0].remove(!1);o.addSeries(w,!1),o.addSeries({name:Intl.NumberFormat().format(f)+" DPS",color:"rgb("+y[0]+","+y[1]+","+y[2]+")"},!1);let x=h.timestamp,v=x.split("-")[0],C=x.split("-")[1],k=x.split("-")[2].split(" ")[0],A=x.split(" ")[1].split(":")[0],z=x.split(":")[1],T="Last updated ",L=new Date-new Date(Date.UTC(v,C-1,k,A,z)),O=Math.floor(L/24/3600/1e3);O>0&&(T+=`${O}d `);let S=Math.floor(L/3600/1e3)-24*O;T+=`${S}h ago`,o.redraw(),function(t){function e(e){var a=(e=o.pointer.normalize(e)).chartX,r=e.chartY,l=o.options.chart.options3d.alpha,i=o.options.chart.options3d.beta,s=5;function n(t){t=o.pointer.normalize(t),o.update({chart:{options3d:{alpha:l+(t.chartY-r)/s,beta:i+(a-t.chartX)/s}}},void 0,void 0,!1)}o.unbindDragMouse=t.addEvent(document,"mousemove",n),o.unbindDragTouch=t.addEvent(document,"touchmove",n),t.addEvent(document,"mouseup",o.unbindDragMouse),t.addEvent(document,"touchend",o.unbindDragTouch)}t.addEvent(o.container,"mousedown",e),t.addEvent(o.container,"touchstart",e)}(Highcharts)}(t,e,o);"azerite_traits"===f.data_type?-1===i.indexOf("azerite_items")&&(i="azerite_traits_stacking"):i=f.data_type;const b=f;let y,w;if(i.indexOf("azerite_traits")>-1)if("azerite_traits_stacking"===i)"all"===t.azerite_tier?y=b.sorted_data_keys_2.slice(0,_):"1"===t.azerite_tier||"3"===t.azerite_tier?y=b.sorted_azerite_tier_3_trait_stacking.slice(0,_):"2"===t.azerite_tier&&(y=b.sorted_azerite_tier_2_trait_stacking.slice(0,_)),w=b.data.baseline[b.simulated_steps[0]];else{if("azerite_traits_itemlevel"!==i)return void console.log("Chart found, but unknown data-type detected.");"all"===t.azerite_tier?y=b.sorted_data_keys.slice(0,_):"1"===t.azerite_tier||"3"===t.azerite_tier?y=b.sorted_azerite_tier_3_itemlevel.slice(0,_):"2"===t.azerite_tier&&(y=b.sorted_azerite_tier_2_itemlevel.slice(0,_)),w=b.data.baseline[b.simulated_steps[b.simulated_steps.length-1]]}else y=b.sorted_data_keys.slice(0,_),w="races"===i?0:["legendaries","soul_binds"].includes(i)?b.data.baseline:b.data.baseline[b.simulated_steps[b.simulated_steps.length-1]];for(l&&(console.log(y),console.log("Baseline dps: "+w)),o.setTitle({text:b.title},{text:b.subtitle},!1);o.series[0];)o.series[0].remove(!1);let x=y.map(e=>(function(t,e,o){l&&(console.log("get_category_name"),console.log(e));const a={cn:"cn_CN",en:"en_US",de:"de_DE",es:"es_ES",fr:"fr_FR",it:"it_IT",ko:"ko_KR",pt:"pt_BR",ru:"ru_RU"};if("wowhead"!=t.tooltip_engine&&"wowdb"!=t.tooltip_engine)try{return o.translations[e][a[t.language]]}catch(r){return o.languages[e][a[t.language]]}if("races"===t.data_type)try{return o.translations[e][a[t.language]]}catch(r){return o.languages[e][a[t.language]]}if("wowhead"==t.tooltip_engine){let r=document.createElement("a");if(r.href="https://"+("en"===t.language?"www":t.language)+".wowhead.com/",o.hasOwnProperty("item_ids")&&o.item_ids.hasOwnProperty(e)){if(r.href+="item="+o.item_ids[e]+"/"+h(e),o.hasOwnProperty("class_id")&&o.hasOwnProperty("used_azerite_traits_per_item")){r.href+="?azerite-powers="+o.class_id;for(let t=0;t<o.used_azerite_traits_per_item[e].length;t++){const a=o.used_azerite_traits_per_item[e][t];r.href+=":"+a.id}}let t=o.simulated_steps[o.simulated_steps.length-1];"string"==typeof t&&t.indexOf("_")>-1&&(t=t.split("_")[1]),r.href+="&ilvl="+t}else o.hasOwnProperty("spell_ids")&&o.spell_ids.hasOwnProperty(e)&&(r.href+="spell="+o.spell_ids[e]+"/"+h(e));try{r.appendChild(document.createTextNode(o.translations[e][a[t.language]]))}catch(l){try{r.appendChild(document.createTextNode(o.languages[e][a[t.language]]))}catch(t){r.appendChild(document.createTextNode(e)),console.log("Bloodmallet charts: Translation for "+e+" wasn't found. Please help improving the reasource at bloodmallet.com.")}}return r.outerHTML}if("wowdb"==t.tooltip_engine){let r=document.createElement("a");r.href="http://www.wowdb.com/";try{r.href+="items/"+o.item_ids[e]}catch(t){l&&(console.log(t),console.log("We're probably looking at a spell."))}if(r.href.indexOf("items")>-1){let t=o.simulated_steps[o.simulated_steps.length-1];if("string"==typeof t&&t.indexOf("_")>-1&&(t=t.split("_")[1]),r.href+="?itemLevel="+t,o.hasOwnProperty("class_id")&&o.hasOwnProperty("used_azerite_traits_per_item")){r.href+="&azerite=",r.href+=o.class_id+":0";for(let t=0;t<o.used_azerite_traits_per_item[e].length;t++){const a=o.used_azerite_traits_per_item[e][t];r.href+=":"+a.id}}}try{r.href+="spells/"+o.spell_ids[e]}catch(t){l&&(console.log(t),console.log("We're probably looking at an item."))}r.dataset.tooltipHref=r.href;let i=void 0;try{i=document.createTextNode(o.translations[e][a[t.language]])}catch(r){try{i=document.createTextNode(o.languages[e][a[t.language]])}catch(t){i=e,console.log("Bloodmallet charts: Translation for "+e+" wasn't found. Please help improving the reasource at bloodmallet.com.")}}return r.appendChild(document.createTextNode(i)),r.outerHTML}})(t,e,b));l&&console.log(x),"highcharts"==m?o.update({xAxis:{categories:x}},!1):"highcharts_old"==m&&o.xAxis[0].setCategories(x,!1);let v=[];if("azerite_traits_stacking"==i){let t=b.simulated_steps[0].replace("1_","");v.push("3_"+t),v.push("2_"+t),v.push("1_"+t)}else v=b.simulated_steps;if(l&&console.log("simulated_steps: "+v),v){let t={};for(const e in b.data)if(b.data.hasOwnProperty(e)){const o=b.data[e];t[e]={};let a=w;"conduits"===i&&(a=b.data.baseline[b.covenant_mapping[e]]);for(let r=v.length-1;r>=0;r--){const l=v[r];o.hasOwnProperty(l)?(t[e][l]=o[l]-a,a=o[l]):t[e][l]=0}}for(const e of v){let a=[];for(let o=0;o<y.length;o++){const r=y[o];a.push(t[r][e])}let r=e;["azerite_items_chest","azerite_items_head","azerite_items_shoulders","azerite_traits_itemlevel"].indexOf(i)>-1?r=e.split("_")[1]:"azerite_traits_stacking"===i&&(r=e.split("_")[0]),o.addSeries({data:a,name:r},!1)}}else if(["legendaries","soul_binds"].includes(i)){var C=[];for(let t=0;t<y.length;t++){let e=y[t],o=b.data[e]-w;C.push(o)}o.addSeries({data:C,name:"Data",showInLegend:!1},!1)}else{C=[];for(let t=0;t<y.length;t++){let e=y[t],o=b.data[e];C.push(o)}o.addSeries({data:C,name:"Race",showInLegend:!0},!1)}["trinkets","azerite_items_chest","azerite_items_head","azerite_items_shoulders","azerite_traits_itemlevel"].indexOf(i)>-1?o.legend.title.attr({text:"Itemlevel"}):"races"===i?o.legend.title.attr({text:""}):"azerite_traits_stacking"===i&&o.legend.title.attr({text:"Trait count"}),o.redraw(),"highcharts_old"==m&&o.reflow(),e.style.height=200+30*y.length+"px","highcharts"==m&&o.setSize(e.style.width,e.style.height),"wowdb"==t.tooltip_engine&&setTimeout(function(){!function(t){l&&console.log("readd_wowdb_tooltips");try{CurseTips["wowdb-tooltip"].watchElements(document.getElementById(t).getElementsByTagName("a"))}catch(t){console.log("Setting wowdb (CurseTips) tooltips failed. Error: ",t)}}(e.id)},1)}function c(t,e,o){l&&console.log("create_color");let a=[0,255,255],r=[255,255,0],i=[255,0,0],s=0,n=0;for(let t=0;t<3;t++)s+=Math.abs(i[t]-r[t]),n+=Math.abs(r[t]-a[t]);let d=e+(o-e)*(n/(n+s));if(t>=d){let e=(t-d)/(o-d);return[Math.floor(i[0]*e+r[0]*(1-e)),Math.floor(i[1]*e+r[1]*(1-e)),Math.floor(i[2]*e+r[2]*(1-e))]}{let o=(t-e)/(d-e);return[Math.floor(r[0]*o+a[0]*(1-o)),Math.floor(r[1]*o+a[1]*(1-o)),Math.floor(r[2]*o+a[2]*(1-o))]}}function h(t){return t.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}function g(i){if(l&&console.log("update_chart_style"),"highcharts"==i.chart_engine||"highcharts_old"==i.chart_engine){if("secondary_distributions"===i.data_type)return{chart:{renderTo:"scatter_plot_chart",type:"scatter3d",backgroundColor:null,animation:!1,height:800,width:800,options3d:{enabled:!0,alpha:10,beta:30,depth:800,fitToPlot:!1}},legend:{enabled:!0,backgroundColor:i.background_color,borderColor:i.font_color,borderWidth:1,align:"right",verticalAlign:"middle",layout:"vertical",itemStyle:{color:i.font_color},itemHoverStyle:{color:i.font_color}},plotOptions:{series:{dataLabels:{allowOverlap:!0,style:{color:i.font_color,fontSize:i.font_size,fontWeight:"400",textOutline:""}},events:{legendItemClick:function(){return!1}}}},series:[],title:{text:"",useHTML:!0,style:{color:i.font_color}},subtitle:{text:"",useHTML:!0,style:{color:i.font_color,fontSize:i.font_size}},tooltip:{headerFormat:"",pointFormatter:function(){return'<table class="">                <thead>                  <tr>                    <th scope="col"></th>                    <th scope="col">Absolute</th>                    <th scope="col">Relative</th>                  </tr>                </thead>                <tbody>                  <tr>                    <th scope="row">DPS</th>                    <td>'+Intl.NumberFormat().format(this.dps)+"</td>                    <td>"+Math.round(this.dps/this.dps_max*1e4)/100+'%</td>                  </tr>                  <tr>                    <th scope="row">Crit</th>                    <td>'+Intl.NumberFormat().format(this.stat_crit)+"</td>                    <td>"+this.name.split("_")[0]+'%</td>                  </tr>                  <tr>                    <th scope="row">Haste</th>                    <td>'+Intl.NumberFormat().format(this.stat_haste)+"</td>                    <td>"+this.name.split("_")[1]+'%</td>                  </tr>                  <tr>                    <th scope="row">Mastery</th>                    <td>'+Intl.NumberFormat().format(this.stat_mastery)+"</td>                    <td>"+this.name.split("_")[2]+'%</td>                  </tr>                  <tr>                    <th scope="row">Versatility</th>                    <td>'+Intl.NumberFormat().format(this.stat_vers)+"</td>                    <td>"+this.name.split("_")[3]+"%</td>                  </tr>                </tbody>              </table>"},useHTML:!0,borderColor:i.background_color},xAxis:{min:0,max:80,tickInterval:20,startOnTick:!0,endOnTick:!0,title:"",labels:{enabled:!1},gridLineWidth:1,gridLineColor:i.axis_color},yAxis:{min:-10,max:70,tickInterval:20,startOnTick:!0,endOnTick:!0,title:"",labels:{enabled:!1},gridLineWidth:1,gridLineColor:i.axis_color},zAxis:{min:10,max:90,tickInterval:20,startOnTick:!0,endOnTick:!0,title:"",labels:{enabled:!1},reversed:!0,gridLineWidth:1,gridLineColor:i.axis_color}};let l=i.background_color,s=i.axis_color,n=i.font_color,d={chart:{type:"bar",backgroundColor:e,style:{fontFamily:'-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol"'}},colors:t,credits:{href:"https://bloodmallet.com/",text:"bloodmallet",style:{fontSize:r}},legend:{align:"right",backgroundColor:e,borderColor:a,borderWidth:1,floating:!1,itemMarginBottom:3,itemMarginTop:0,layout:"vertical",reversed:!0,shadow:!1,verticalAlign:"middle",x:0,y:0,itemStyle:{color:o},itemHoverStyle:{color:o},title:{text:" ",style:{color:o}},symbolRadius:0},plotOptions:{series:{stacking:"normal",borderColor:e,events:{legendItemClick:function(){return!1}},style:{textOutline:!1,fontSize:r}}},series:[],title:{text:"Loading data...",useHTML:!0,style:{color:o,fontSize:r}},subtitle:{text:'...from <a href="https://bloodmallet.com">bloodmallet</a>',useHTML:!0,style:{color:o,fontSize:r}},tooltip:{headerFormat:"<b>{point.x}</b>",shared:!0,backgroundColor:e,borderColor:a,style:{color:o,fontSize:r},useHTML:!0,positioner:function(t,e,o){return{x:o.plotX,y:o.plotY}}},xAxis:{categories:[],labels:{useHTML:!0,style:{color:o,fontSize:r}},gridLineWidth:0,gridLineColor:a,lineColor:a,tickColor:a},yAxis:[{labels:{style:{color:a}},min:0,stackLabels:{enabled:!0,formatter:function(){return Intl.NumberFormat().format(this.total)},style:{color:o,textOutline:!1,fontSize:r,fontWeight:"normal"}},title:{text:"Δ Damage per second",style:{color:a}},gridLineWidth:1,gridLineColor:a},{linkedTo:0,opposite:!0,labels:{style:{color:a}},min:0,stackLabels:{enabled:!0,formatter:function(){return Intl.NumberFormat().format(this.total)},style:{color:o,textOutline:!1,fontSize:r,fontWeight:"normal"}},title:{text:"Δ Damage per second",style:{color:a}},gridLineWidth:1,gridLineColor:a}]};return d.chart.backgroundColor=l,d.legend.backgroundColor=l,d.legend.borderColor=s,d.legend.itemStyle.color=n,d.legend.itemHoverStyle.color=n,d.title.style.color=n,d.subtitle.style.color=n,d.tooltip.formatter=function(){let t=document.createElement("div");t.style.margin="-4px -7px -7px -7px",t.style.padding="3px 3px 6px 3px",t.style.backgroundColor="transparent"!==l?l:e,"highcharts_old"===i.chart_engine&&(t.style.margin="-7px");let o=document.createElement("div");t.appendChild(o),o.style.marginLeft="9px",o.style.marginRight="9px",o.style.marginBottom="6px",o.style.fontWeight="700",o.innerHTML=this.x;let a=0;for(var r=this.points.length-1;r>=0;r--)if(a+=this.points[r].y,0!==this.points[r].y){let e=document.createElement("div");t.appendChild(e);let o=document.createElement("span");e.appendChild(o),o.style.marginLeft="9px",o.style.borderLeft="9px solid "+this.points[r].series.color,o.style.paddingLeft="4px",Number.isInteger(this.points[r].series.name)&&o.appendChild(document.createTextNode(this.points[r].series.name+":")),e.appendChild(document.createTextNode("  "+Intl.NumberFormat().format(a)))}return t.outerHTML},d.tooltip.backgroundColor="transparent"!==l?l:e,d.tooltip.borderColor=s,d.tooltip.style.color=n,d.xAxis.labels.style.color=n,d.xAxis.gridLineColor=s,d.xAxis.lineColor=s,d.xAxis.tickColor=s,d.yAxis[0].labels.style.color=s,d.yAxis[0].stackLabels.style.color=n,d.yAxis[0].gridLineColor=s,d.yAxis[0].lineColor=s,d.yAxis[0].tickColor=s,d.yAxis[0].title.style.color=s,d.yAxis[1].labels.style.color=s,d.yAxis[1].stackLabels.style.color=n,d.yAxis[1].gridLineColor=s,d.yAxis[1].lineColor=s,d.yAxis[1].tickColor=s,d.yAxis[1].title.style.color=s,d.credits.style.color=n,d}}this.init_charts=new function(){l&&console.log("init_charts");let t=document.querySelectorAll("div.bloodmallet_chart"),r=[];for(let e=0;e<t.length;e++){const o=t[e];if(r.indexOf(o.id)>-1)return void console.error("Multiple Elements use the same ID ('"+o.id+"'). Aborting bloodmallet_chart_import.js.");r.push(o.id)}for(let r=0;r<t.length;r++){let i=void 0;try{i=t[r].id}catch(t){return void console.error("Each .bloodmallet_chart needs an ID. Aborting bloodmallet_chart_import.js.")}const s=document.getElementById(t[r].id);if(s){let t={chart_id:void 0,wow_class:void 0,wow_spec:void 0,data_type:"trinkets",azerite_tier:"all",fight_style:"patchwerk",axis_color:a,background_color:e,font_color:o,limit:7,chart_engine:"highcharts",tooltip_engine:"wowhead",language:"en"};try{void 0!==bloodmallet.style.axis_color&&(t.axis_color=bloodmallet.style.axis_color),void 0!==bloodmallet.style.background_color&&(t.background_color=bloodmallet.style.background_color),void 0!==bloodmallet.style.font_color&&(t.font_color=bloodmallet.style.font_color),void 0!==bloodmallet.settings.entries&&(t.limit=bloodmallet.settings.entries),void 0!==bloodmallet.settings.chart_engine&&(t.chart_engine=bloodmallet.settings.chart_engine),void 0!==bloodmallet.settings.tooltip_engine&&(t.tooltip_engine=bloodmallet.settings.tooltip_engine),void 0!==bloodmallet.settings.language&&(t.language=bloodmallet.settings.language)}catch(t){l&&console.log("Applying page wide settings failed or no page wide settings were found.")}s.getAttribute("data-entries")&&(t.limit=s.getAttribute("data-entries")),s.getAttribute("data-fight-style")&&(t.fight_style=s.getAttribute("data-fight-style")),s.getAttribute("data-type")&&(t.data_type=s.getAttribute("data-type")),s.getAttribute("data-azerite-tier")&&(t.azerite_tier=s.getAttribute("data-azerite-tier")),s.getAttribute("data-background-color")&&(t.background_color=s.getAttribute("data-background-color")),s.getAttribute("data-font-color")&&(t.font_color=s.getAttribute("data-font-color")),s.getAttribute("data-axis-color")&&(t.axis_color=s.getAttribute("data-axis-color")),s.getAttribute("data-tooltip-engine")&&(t.tooltip_engine=s.getAttribute("data-tooltip-engine")),s.getAttribute("data-chart-engine")&&(t.chart_engine=s.getAttribute("data-chart-engine")),s.getAttribute("data-language")&&(t.language=s.getAttribute("data-language"));let r=!0;s.getAttribute("data-chart-id")?t.chart_id=s.getAttribute("data-chart-id"):(s.getAttribute("data-wow-class")||(console.error("Required 'data-chart-id' or 'data-wow-class' attribute wasn't found in "+i+"."),r=!1),t.wow_class=s.getAttribute("data-wow-class"),s.getAttribute("data-wow-spec")||(console.error("Required 'data-chart-id' or 'data-wow-spec' attribute wasn't found in "+i+"."),r=!1),t.wow_spec=s.getAttribute("data-wow-spec"));let c=g(t),h=!1;if("highcharts"==t.chart_engine)try{h=Highcharts.chart(i,c)}catch(t){return console.log("When trying to create a highcharts chart the following error occured. Did you include the necessary Highcharts scripts?"),void console.log(t)}else if("highcharts_old"==t.chart_engine)try{let t=c;t.chart.renderTo=i,h=new Highcharts.Chart(t)}catch(t){return console.log("When trying to create a highcharts_old chart the following error occured. Did you include the necessary Highcharts scripts?"),void console.log(t)}r?n(t):h.setTitle({text:"Wrong chart setup"},{text:"Missing 'data-chart-id', 'data-wow-class' or 'data-wow-spec'. See <a href=\"https://github.com/Bloodmallet/bloodmallet.github.io/wiki/How-to-import-charts-or-data\">wiki</a>"}),setTimeout(d,1,t,s,h,0)}}}}document.addEventListener("DOMContentLoaded",function(){bloodmallet_chart_import()});